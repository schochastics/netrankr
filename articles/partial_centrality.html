<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Partial Centrality • netrankr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Partial Centrality">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">netrankr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a></li>
    <li><a class="dropdown-item" href="../articles/threshold_graph.html">Uniquely Ranked Graphs</a></li>
    <li><a class="dropdown-item" href="../articles/positional_dominance.html">Positional Dominance</a></li>
    <li><a class="dropdown-item" href="../articles/indirect_relations.html">Indirect Relations in Networks</a></li>
    <li><a class="dropdown-item" href="../articles/centrality_indices.html">Centrality Indices</a></li>
    <li><a class="dropdown-item" href="../articles/partial_centrality.html">Partial Centrality</a></li>
    <li><a class="dropdown-item" href="../articles/probabilistic_cent.html">Probabilistic Centrality</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-introduction/">Blog Post I</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-neighborhood-inclusion/">Blog Post II</a></li>
    <li><a class="external-link dropdown-item" href="http://blog.schochastics.net/post/network-centrality-in-r-new-ways-of-measuring-centrality/">Blog Post III</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/use_case.html">Use Case</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/benchmarks.html">Benchmarks</a></li>
<li class="nav-item"><a class="external-link nav-link" href="http://schochastics.net/sna/periodic.html">Periodic Table</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/schochastics/netrankr"><span class="fa fa-github fa-lg"></span> Github</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Partial Centrality</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/schochastics/netrankr/blob/v1.2.4/vignettes/partial_centrality.Rmd" class="external-link"><code>vignettes/partial_centrality.Rmd</code></a></small>
      <div class="d-none name"><code>partial_centrality.Rmd</code></div>
    </div>

    
    
<p>This vignette describes some methods to analyse partial rankings as
obtained from <a href="neighborhood_inclusion.html">neighborhood-inclusion</a> or, more
general, <a href="positional_dominance.html">positional dominance</a>.
More on the topic of partial rankings can be found in the following
literature.</p>
<blockquote>
<p>Schoch, David. (2018). Centrality without Indices: Partial rankings
and rank Probabilities in networks. <em>Social Networks</em>,
<strong>54</strong>, 50-60.(<a href="https://doi.org/10.1016/j.socnet.2017.12.003" class="external-link">link</a>)</p>
</blockquote>
<blockquote>
<p>Patil, G.P. &amp; Taillie, C. (2004). Multiple Indicators, partially
ordered sets, and linear extensions: Multi-criterion ranking and
prioritization. <em>Environmental and Ecological Statistics</em>,
<strong>11</strong>, 199-228 (<a href="https://link.springer.com/article/10.1023/B:EEST.0000027209.93218.d9" class="external-link">link</a>)</p>
</blockquote>
<hr>
<div class="section level2">
<h2 id="rank-intervals">Rank intervals<a class="anchor" aria-label="anchor" href="#rank-intervals"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/schochastics/netrankr/" class="external-link">netrankr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></code></pre></div>
<p>The function <code><a href="../reference/rank_intervals.html">rank_intervals()</a></code> is used to calculate the
maximal and minimal possible rank for each node in any ranking that is
in accordance with a given partial ranking.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dbces11"</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">dbces11</span></span>
<span></span>
<span><span class="co">#neighborhood inclusion </span></span>
<span><span class="va">P</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/neighborhood_inclusion.html">neighborhood_inclusion</a></span><span class="op">(</span>sparse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#without %&gt;% operator:</span></span>
<span><span class="co"># P &lt;- neighborhood_inclusion(g, sparse = FALSE)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/rank_intervals.html">rank_intervals</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  node:A rank interval: [1, 6]</span></span>
<span><span class="co">##  node:B rank interval: [1, 9]</span></span>
<span><span class="co">##  node:C rank interval: [2, 9]</span></span>
<span><span class="co">##  node:D rank interval: [2, 11]</span></span>
<span><span class="co">##  node:E rank interval: [3, 11]</span></span>
<span><span class="co">##  node:F rank interval: [2, 11]</span></span>
<span><span class="co">##  node:G rank interval: [2, 11]</span></span>
<span><span class="co">##  node:H rank interval: [2, 11]</span></span>
<span><span class="co">##  node:I rank interval: [1, 11]</span></span>
<span><span class="co">##  node:J rank interval: [1, 11]</span></span>
<span><span class="co">##  node:K rank interval: [3, 11]</span></span></code></pre>
<p>The package uses the convention, that higher numerical ranks
correspond to top ranked position. The lowest possible rank is thus 1.
The column <code>mid_point</code> should not be confused with the
<em>expected rank</em> of nodes, which is calculated with the function
<code><a href="../reference/exact_rank_prob.html">exact_rank_prob()</a></code>. See <a href="probabilistic_cent.html">this</a> vignette for more details.<br><br>
Rank intervals are useful to assess the ambiguity of ranking nodes. The
bigger the intervals are, the more freedom exists, e.g. for centrality
indices, to rank nodes differently.<br><br>
The intervals can be visualized with its own <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
function. The function can take a data frame of centrality scores as an
additional parameter <code>cent_scores</code>. The ranks of each node
for each index are then plotted within each interval. Again, the higher
the numerical rank the higher ranked the node is according to the
index.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cent_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>   degree<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/degree.html" class="external-link">degree</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,</span>
<span>   betweenness<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/betweenness.html" class="external-link">betweenness</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>   closeness<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/closeness.html" class="external-link">closeness</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>   eigenvector<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/eigen_centrality.html" class="external-link">eigen_centrality</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rk_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rank_intervals.html">rank_intervals</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rk_int</span>,cent_scores <span class="op">=</span> <span class="va">cent_scores</span><span class="op">)</span></span></code></pre></div>
<p><img src="partial_centrality_files/figure-html/vis_intervals_cent-1.png" width="480" style="display: block; margin: auto;"></p>
<p>A small jitter effect is added to the points to reduce
over-plotting.<br><br>
Note that you may encounter situations, where ranks of centralities may
fall outside of interval. This can happen in cases of ties in rankings,
especially for betweenness centrality. Betweenness is, so far, the only
index that does not <em>strictly</em> preserve neighborhood-inclusion.
That is, while
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊆</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>v</mi><mo stretchy="true" form="postfix">]</mo></mrow><mrow><mspace width="0.333em"></mspace><mtext mathvariant="normal"> and </mtext><mspace width="0.333em"></mspace></mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>⊈</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>u</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>⟹</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>&lt;</mo><mi>c</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
N(u)\subseteq N[v] \text{ and } N(v)\not\subseteq N[u] \implies c(u)&lt;c(v)
</annotation></semantics></math> holds for most indices, betweenness
fails to fulfill this property.<br><br>
The intervals reduce to single points for <a href="threshold_graph.html">threshold graphs</a>, since all nodes are
pairwise comparable by neighborhood-inclusion.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">tg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/threshold_graph.html">threshold_graph</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">0.2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#neighborhood inclusion </span></span>
<span><span class="va">P</span> <span class="op">&lt;-</span> <span class="va">tg</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/neighborhood_inclusion.html">neighborhood_inclusion</a></span><span class="op">(</span>sparse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#without %&gt;% operator:</span></span>
<span><span class="co"># P &lt;- neighborhood_inclusion(tg,sparse = FALSE)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/rank_intervals.html">rank_intervals</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="partial_centrality_files/figure-html/tg_ri-1.png" width="480" style="display: block; margin: auto;"></p>
<p>The described betweenness inconsistancy is most evident for threshold
graphs as shown in the rank intervals below.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cent_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>   degree<span class="op">=</span><span class="fu"><a href="https://r.igraph.org/reference/degree.html" class="external-link">degree</a></span><span class="op">(</span><span class="va">tg</span><span class="op">)</span>,</span>
<span>   betweenness<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/betweenness.html" class="external-link">betweenness</a></span><span class="op">(</span><span class="va">tg</span><span class="op">)</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>   closeness<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/closeness.html" class="external-link">closeness</a></span><span class="op">(</span><span class="va">tg</span><span class="op">)</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>   eigenvector<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/eigen_centrality.html" class="external-link">eigen_centrality</a></span><span class="op">(</span><span class="va">tg</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/rank_intervals.html">rank_intervals</a></span><span class="op">(</span><span class="va">P</span><span class="op">)</span>,cent_scores <span class="op">=</span> <span class="va">cent_scores</span><span class="op">)</span></span></code></pre></div>
<p><img src="partial_centrality_files/figure-html/tg_ri_cent,out-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>

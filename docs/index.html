<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing Partial Rankings in Networks • netrankr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">netrankr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How To
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/neighborhood_inclusion.html">Neighborhood-Inclusion</a>
    </li>
    <li>
      <a href="articles/threshold_graph.html">Uniquely Ranked Graphs</a>
    </li>
    <li>
      <a href="articles/positional_dominance.html">Positional Dominance</a>
    </li>
    <li>
      <a href="articles/indirect_relations.html">Indirect Relations in Networks</a>
    </li>
    <li>
      <a href="articles/centrality_indices.html">Centrality Indices</a>
    </li>
    <li>
      <a href="articles/partial_centrality.html">Partial Centrality</a>
    </li>
    <li>
      <a href="articles/probabilistic_cent.html">Probabilistic Centrality</a>
    </li>
  </ul>
</li>
<li>
  <a href="articles/use_case.html">Use Case</a>
</li>
<li>
  <a href="articles/benchmarks.html">Benchmarks</a>
</li>
<li>
  <a href="http://schochastics.net/sna/periodic.html">Periodic Table</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/schochastics/netrankr">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="index_files/htmlwidgets-0.9/htmlwidgets.js"></script><script src="index_files/d3-3.3.8/d3.min.js"></script><script src="index_files/dagre-0.4.0/dagre-d3.min.js"></script><link href="index_files/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet">
<script src="index_files/mermaid-0.3.0/dist/mermaid.slim.min.js"></script><link href="index_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="index_files/chromatography-0.1/chromatography.js"></script><script src="index_files/DiagrammeR-binding-0.9.2/DiagrammeR.js"></script><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">

<div id="overview" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1></div>
<p>The literature is flooded with centrality indices and new ones are introduced on a regular basis. Although there exist several theoretical and empirical guidelines on when to use certain indices, there still exists plenty of ambiguity in the concept of network centrality. To date, network centrality is nothing more than applying indices to a network:</p>
<div id="htmlwidget-c2d4f80181a82252344b" style="width:70%;height:200px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-c2d4f80181a82252344b">{"x":{"diagram":"graph LR\n  A[network]==>B{centrality <br> indices}\n style A fill:#fff,stroke:#000, stroke-width:2px\n style B fill:#fff,stroke:#000, stroke-width:2px\n "},"evals":[],"jsHooks":[]}</script><p>The only degree of freedom is the choice of index. The package comes with an Rstudio addin (<code><a href="reference/index_builder.html">index_builder()</a></code>), which allows to build or choose from more than 20 different indices. Blindly (ab)using this function is highly discouraged!</p>
<p>The <code>netrankr</code> package is based on the idea that centrality is more than a conglomeration of indices. Decomposing them in a series of microsteps offers the posibility to gradually add ideas about centrality, without succumbing to trial-and-error approaches. Further, it allows for alternative assessment methods which can be more general than the index-driven approach:</p>
<div id="htmlwidget-55fb52265341e4a7535c" style="width:70%;height:300px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-55fb52265341e4a7535c">{"x":{"diagram":"graph LR\n  A[network]==>B{indirect relation}\n  B ==>P[position]\n  P==>C[aggregate position]\n  C==>D[centrality index]\n  P==>E{positional <br> dominance}\n  E==>F[partial centrality]\n  E==>G[probabilistic centrality]\n style A fill:#fff,stroke:#000, stroke-width:2px\n style B fill:#fff,stroke:#000, stroke-width:2px\n style C fill:#fff,stroke:#000, stroke-width:2px\n style D fill:#fff,stroke:#000, stroke-width:2px\n style E fill:#fff,stroke:#000, stroke-width:2px\n style F fill:#fff,stroke:#000, stroke-width:2px\n style G fill:#fff,stroke:#000, stroke-width:2px\n style P fill:#EEC900,stroke:#000, stroke-width:3px\n"},"evals":[],"jsHooks":[]}</script><p>The new approach is centered around the concept of <em>positions</em>, which are defined as the relations and potential attributes of a node in a network. The aggregation of the relations leads to the definition of indices. However, positions can also be compared via <em>positional dominance</em>, leading to partial centrality rankings and the option to calculate probabilistic centrality rankings.</p>
<p>For a more detailed theoretical background, consult the <a href="#literature">Literature</a> at the end of this page.</p>
<hr>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install from CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">install.packages</span>(<span class="st">"netrankr"</span>)</code></pre></div>
<p>To install the developer version from github:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"schochastics/netrankr"</span>)</code></pre></div>
<hr>
</div>
<div id="simple-example" class="section level2">
<h2 class="hasAnchor">
<a href="#simple-example" class="anchor"></a>Simple Example</h2>
<p>This example briefly explains some of the functionality of the package and the difference to an index driven approach. For a more realistic application see the <a href="articles/use_case.html">use case</a> example.</p>
<p>We work with the following small graph.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(igraph)
<span class="kw">library</span>(netrankr)

g &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/make_empty_graph">graph.empty</a></span>(<span class="dt">n =</span> <span class="dv">11</span>,<span class="dt">directed =</span> <span class="ot">FALSE</span>)
g &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/add_edges">add_edges</a></span>(g,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">11</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">11</span>,<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">11</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">6</span>,<span class="dv">8</span>,
                    <span class="dv">6</span>,<span class="dv">10</span>,<span class="dv">6</span>,<span class="dv">11</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">10</span>,<span class="dv">7</span>,<span class="dv">11</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">9</span>,<span class="dv">10</span>))</code></pre></div>
<p><img src="dbces-neutral.png" width="70%" style="display: block; margin: auto;"></p>
<p>Say we are interested in the most central node of the graph and simply compute some standard centrality scores with the <code>igraph</code> package. Defining centrality indices in the <code>netrankr</code> package is explained <a href="articles/centrality_indices.html">here</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cent_scores &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
   <span class="dt">degree =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/degree">degree</a></span>(g),
   <span class="dt">betweenness =</span> <span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/betweenness">betweenness</a></span>(g),<span class="dv">4</span>),
   <span class="dt">closeness =</span> <span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/closeness">closeness</a></span>(g),<span class="dv">4</span>),
   <span class="dt">eigenvector =</span> <span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/eigen_centrality">eigen_centrality</a></span>(g)<span class="op">$</span>vector,<span class="dv">4</span>),
   <span class="dt">subgraph =</span> <span class="kw">round</span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/igraph/topics/subgraph_centrality">subgraph_centrality</a></span>(g),<span class="dv">4</span>))

<span class="co"># What are the most central nodes for each index?</span>
<span class="kw">apply</span>(cent_scores,<span class="dv">2</span>,which.max)</code></pre></div>
<pre><code>#&gt;      degree betweenness   closeness eigenvector    subgraph 
#&gt;          11           8           6           7          10</code></pre>
<p><img src="dbces-color.png" width="70%" style="display: block; margin: auto;"></p>
<p>As you can see, each index assigns the highest value to a different vertex.</p>
<p>A more general assessment starts by calculating the neighborhood inclusion preorder.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">P &lt;-<span class="st"> </span><span class="kw"><a href="reference/neighborhood_inclusion.html">neighborhood_inclusion</a></span>(g)
P</code></pre></div>
<pre><code>#&gt;       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11]
#&gt;  [1,]    0    0    1    0    1    1    1    0    0     0     1
#&gt;  [2,]    0    0    0    1    0    0    0    1    0     0     0
#&gt;  [3,]    0    0    0    0    1    0    0    0    0     0     1
#&gt;  [4,]    0    0    0    0    0    0    0    0    0     0     0
#&gt;  [5,]    0    0    0    0    0    0    0    0    0     0     0
#&gt;  [6,]    0    0    0    0    0    0    0    0    0     0     0
#&gt;  [7,]    0    0    0    0    0    0    0    0    0     0     0
#&gt;  [8,]    0    0    0    0    0    0    0    0    0     0     0
#&gt;  [9,]    0    0    0    0    0    0    0    0    0     0     0
#&gt; [10,]    0    0    0    0    0    0    0    0    0     0     0
#&gt; [11,]    0    0    0    0    0    0    0    0    0     0     0</code></pre>
<p><a href="https://doi.org/10.1017/S0956792516000401">Schoch &amp; Brandes (2016)</a> showed that <span class="math inline">\(N(u) \subseteq N[v]\)</span> (i.e. <code>P[u,v]=1</code>) implies <span class="math inline">\(c(u) \leq c(v)\)</span> for centrality indices <span class="math inline">\(c\)</span>, which are defined via specific path algebras. These include many of the well-known measures like closeness (and variants), betweenness (and variants) as well as many walk-based indices (eigenvector and subgraph centrality, total communicability,…).</p>
<p>Neighborhood-inclusion defines a partial ranking on the set of nodes. Each ranking that is in accordance with this partial ranking yields a proper centrality ranking. Each of these ranking can thus potentially be the outcome of a centrality index.</p>
<p>Using rank intervals, we can examine the minimal and maximal possible rank of each node. The bigger the intervals are, the more freedom exists for indices to rank nodes differently.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_rank_intervals.html">plot_rank_intervals</a></span>(P,<span class="dt">names =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">11</span>,<span class="dt">cent.df =</span> cent_scores,<span class="dt">ties.method=</span><span class="st">"average"</span>)</code></pre></div>
<p><img src="index-partial-1.png" width="70%" style="display: block; margin: auto;"></p>
<p>The potential ranks of nodes are not uniformly distributed in the intervals. To get the exact probabilities, the function <code><a href="reference/exact_rank_prob.html">exact_rank_prob()</a></code> can be used.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">res &lt;-<span class="st"> </span><span class="kw"><a href="reference/exact_rank_prob.html">exact_rank_prob</a></span>(P)
<span class="kw">str</span>(res)</code></pre></div>
<pre><code>#&gt; List of 7
#&gt;  $ lin.ext      : num 739200
#&gt;  $ names        : chr [1:11] "1" "2" "3" "4" ...
#&gt;  $ mse          : int [1:11] 1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ rank.prob    : num [1:11, 1:11] 0.545 0.273 0 0 0 ...
#&gt;  $ relative.rank: num [1:11, 1:11] 0 0.3333 0 0.0476 0 ...
#&gt;  $ expected.rank: num [1:11] 1.71 3 4.29 7.5 8.14 ...
#&gt;  $ rank.spread  : num [1:11] 0.958 1.897 1.725 2.54 2.16 ...</code></pre>
<p><code>lin.ext</code> is the number of possible rankings. For the graph <code>g</code> we could therefore come up with 739,200 indices that would rank the nodes differently.</p>
<p><code>rank.prob</code> contains the probabilities for each node to occupy a certain rank. For instance, the probability for each node to be the most central one is as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">round</span>(res<span class="op">$</span>rank.prob[ ,<span class="dv">11</span>],<span class="dv">2</span>)</code></pre></div>
<pre><code>#&gt;  [1] 0.00 0.00 0.00 0.14 0.16 0.11 0.11 0.14 0.09 0.09 0.16</code></pre>
<p><code>relative.rank</code> contains the relative rank probabilities. An entry <code>relative.rank[u,v]</code> indicates how likely it is that <code>v</code> is more central than <code>u</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># How likely is it, that 6 is more central than 3?</span>
<span class="kw">round</span>(res<span class="op">$</span>relative.rank[<span class="dv">3</span>,<span class="dv">6</span>],<span class="dv">2</span>)</code></pre></div>
<pre><code>#&gt; [1] 0.75</code></pre>
<p><code>expected.ranks</code> contains the expected centrality ranks for all nodes. They are derived on the basis of <code>rank.prob</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">round</span>(res<span class="op">$</span>expected.rank,<span class="dv">2</span>)</code></pre></div>
<pre><code>#&gt;  [1] 1.71 3.00 4.29 7.50 8.14 6.86 6.86 7.50 6.00 6.00 8.14</code></pre>
<p>The higher the value, the more central a node is expected to be.</p>
<p><strong>Note</strong>: The set of rankings grows exponentially in the number of nodes and the exact calculation becomes infeasible quite quickly and approximations need to be used. Check the <a href="articles/benchmarks.html">benchmark results</a> for guidelines.</p>
<hr>
</div>
<div id="literature" class="section level2">
<h2 class="hasAnchor">
<a href="#literature" class="anchor"></a>Theoretical Background</h2>
<p><code>netrankr</code> is based on a series of papers that appeared in recent years. If you want to learn more about the theoretical background of the package, consult the following literature:</p>
<blockquote>
<p>Schoch, David. (2018). Centrality without Indices: Partial rankings and rank Probabilities in networks. <em>Social Networks</em>, <strong>54</strong>, 50-60.(<a href="https://doi.org/10.1016/j.socnet.2017.12.003">link</a>)</p>
</blockquote>
<blockquote>
<p>Schoch, David &amp; Valente, Thomas W., &amp; Brandes, Ulrik. (2017). Correlations among centrality indices and a class of uniquely ranked graphs. <em>Social Networks</em>, <strong>50</strong>, 46-54.(<a href="http://doi.org/10.1016/j.socnet.2017.03.010">link</a>)</p>
</blockquote>
<blockquote>
<p>Schoch, David &amp; Brandes, Ulrik. (2016). Re-conceptualizing centrality in social networks. <em>European Journal of Appplied Mathematics</em>, <strong>27</strong>(6), 971–985. (<a href="https://doi.org/10.1017/S0956792516000401">link</a>)</p>
</blockquote>
<blockquote>
<p>Brandes, Ulrik. (2016). Network Positions. <em>Methodological Innovations</em>, <strong>9</strong>, 2059799116630650. (<a href="http://dx.doi.org/10.1177/2059799116630650">link</a>)</p>
</blockquote>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=netrankr">https://​cran.r-project.org/​package=netrankr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/schochastics/netrankr/issues">https://​github.com/​schochastics/​netrankr/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing netrankr</a></li>
</ul>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>David Schoch <br><small class="roles"> Author, maintainer </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=netrankr"><img src="http://www.r-pkg.org/badges/version/netrankr" alt="CRAN Status Badge"></a></li>
<li><a href="https://CRAN.R-project.org/package=netrankr"><img src="http://cranlogs.r-pkg.org/badges/netrankr" alt="CRAN Downloads Per Month"></a></li>
<li><a href="https://travis-ci.org/schochastics/netrankr"><img src="https://travis-ci.org/schochastics/netrankr.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/gh/schochastics/netrankr"><img src="https://codecov.io/gh/schochastics/netrankr/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by David Schoch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
